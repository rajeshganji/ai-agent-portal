<!DOCTYPE html>
<html>
<head>
    <title>Agent Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        // Early error logging
        console.log('[Page] Initializing at:', new Date().toISOString());
        
        // Global error handler
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            console.error('[Error] Details:', {
                message: msg,
                url: url,
                line: lineNo,
                column: columnNo,
                error: error ? error.stack : 'No stack trace'
            });
            return false;
        };
    </script>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title text-center">Agent Login</h3>
                        <form id="loginForm" novalidate>
                            <div class="mb-3">
                                <label class="form-label" for="username">Username</label>
                                <input 
                                    type="text" 
                                    class="form-control" 
                                    id="username" 
                                    name="username"
                                    autocomplete="username"
                                    aria-describedby="usernameHelp"
                                    required
                                >
                                <div id="usernameHelp" class="form-text">Enter your assigned username</div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="agentId">Agent ID</label>
                                <input 
                                    type="text" 
                                    class="form-control" 
                                    id="agentId" 
                                    name="agentId"
                                    autocomplete="off"
                                    aria-describedby="agentIdHelp"
                                    required
                                >
                                <div id="agentIdHelp" class="form-text">Your unique agent identifier</div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="password">Password</label>
                                <input 
                                    type="password" 
                                    class="form-control" 
                                    id="password" 
                                    name="password"
                                    autocomplete="current-password"
                                    aria-describedby="passwordHelp"
                                    required
                                >
                                <div id="passwordHelp" class="form-text">Enter your secure password</div>
                            </div>
                            <button type="submit" class="btn btn-primary w-100" aria-describedby="loginStatus">Login</button>
                            <div id="loginStatus" class="form-text mt-2" role="status" aria-live="polite"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Script loading with error handling -->
    <script>
        function loadScript(src, callback) {
            const script = document.createElement('script');
            script.src = src;
            script.onload = () => {
                console.log(`[Script] Successfully loaded: ${src}`);
                callback && callback(null);
            };
            script.onerror = (error) => {
                console.error(`[Script] Failed to load: ${src}`, error);
                callback && callback(error);
            };
            document.body.appendChild(script);
        }

        // Load scripts in sequence
        loadScript('https://code.jquery.com/jquery-3.6.0.min.js', (error) => {
            if (!error) {
                loadScript('/js/login.js', (error) => {
                    if (error) {
                        console.error('[Script] Failed to initialize login functionality');
                    }
                });
            }
        });
    </script>
</body>
</html>